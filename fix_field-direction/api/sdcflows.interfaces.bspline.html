

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>sdcflows.interfaces.bspline module &mdash; sdcflows 2.0.1.dev48 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/banner.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="sdcflows.interfaces.epi module" href="sdcflows.interfaces.epi.html" />
    <link rel="prev" title="sdcflows.interfaces.brainmask module" href="sdcflows.interfaces.brainmask.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> sdcflows
          

          
          </a>

          
            
            
              <div class="version">
                2.0.1.dev48
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">Library API (application program interface)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sdcflows.fieldmaps.html">sdcflows.fieldmaps module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="sdcflows.interfaces.html">sdcflows.interfaces package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="sdcflows.interfaces.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="sdcflows.interfaces.brainmask.html">sdcflows.interfaces.brainmask module</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">sdcflows.interfaces.bspline module</a></li>
<li class="toctree-l4"><a class="reference internal" href="sdcflows.interfaces.epi.html">sdcflows.interfaces.epi module</a></li>
<li class="toctree-l4"><a class="reference internal" href="sdcflows.interfaces.fmap.html">sdcflows.interfaces.fmap module</a></li>
<li class="toctree-l4"><a class="reference internal" href="sdcflows.interfaces.reportlets.html">sdcflows.interfaces.reportlets module</a></li>
<li class="toctree-l4"><a class="reference internal" href="sdcflows.interfaces.utils.html">sdcflows.interfaces.utils module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sdcflows.utils.html">sdcflows.utils package</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdcflows.viz.html">sdcflows.viz package</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdcflows.workflows.html">sdcflows.workflows package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">What’s new?</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sdcflows</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../api.html">Library API (application program interface)</a> &raquo;</li>
        
          <li><a href="sdcflows.interfaces.html">sdcflows.interfaces package</a> &raquo;</li>
        
      <li>sdcflows.interfaces.bspline module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/sdcflows.interfaces.bspline.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  


    
    



    <p class="scv-banner scv-sphinx_rtd_theme"><a href="../../master/api/sdcflows.interfaces.bspline.html"><b>Warning:</b> This document is for the development version of sdcflows. The main version is master.</a></p>
<section id="module-sdcflows.interfaces.bspline">
<span id="sdcflows-interfaces-bspline-module"></span><h1>sdcflows.interfaces.bspline module<a class="headerlink" href="#module-sdcflows.interfaces.bspline" title="Permalink to this headline">¶</a></h1>
<p>Filtering of <span class="math notranslate nohighlight">\(B_0\)</span> field mappings with B-Splines.</p>
<dl class="class">
<dt id="sdcflows.interfaces.bspline.BSplineApprox">
<em class="property">class </em><code class="sig-prename descclassname">sdcflows.interfaces.bspline.</code><code class="sig-name descname">BSplineApprox</code><span class="sig-paren">(</span><em class="sig-param">from_file=None</em>, <em class="sig-param">resource_monitor=None</em>, <em class="sig-param">**inputs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdcflows/interfaces/bspline.html#BSplineApprox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sdcflows.interfaces.bspline.BSplineApprox" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nipype.interfaces.base.core.SimpleInterface</span></code></p>
<p>Approximate the <span class="math notranslate nohighlight">\(B_0\)</span> field using tensor-product B-Splines.</p>
<p>The approximation effectively smooths the data, removing spikes and other
sources of noise, as well as enables the extrapolation of the <span class="math notranslate nohighlight">\(B_0\)</span> field
beyond the brain mask, which alleviates boundary effects in correction.</p>
<p>This interface resolves the optimization problem of obtaining the B-Spline coefficients
<span class="math notranslate nohighlight">\(c(\mathbf{k})\)</span> that best approximate the data samples within the
brain mask <span class="math notranslate nohighlight">\(f(\mathbf{s})\)</span>, following Eq. (17) – in that case for 2D –
of <a class="reference internal" href="#unser1999" id="id1"><span>[Unser1999]</span></a>.
Here, and adapted to 3D:</p>
<div class="math notranslate nohighlight">
\[f(\mathbf{s}) =
\sum_{k_1} \sum_{k_2} \sum_{k_3} c(\mathbf{k}) \Psi^3(\mathbf{k}, \mathbf{s}).
\label{eq:1}\tag{1}\]</div>
<p class="rubric">References</p>
<dl class="citation">
<dt class="label" id="unser1999"><span class="brackets">Unser1999</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id2">2</a>)</span></dt>
<dd><p>M. Unser, “<a class="reference external" href="http://bigwww.epfl.ch/publications/unser9902.pdf">Splines: A Perfect Fit for Signal and Image Processing</a>,” IEEE Signal Processing
Magazine 16(6):22-38, 1999.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sdcflows.interfaces.bspline.bspline_weights" title="sdcflows.interfaces.bspline.bspline_weights"><code class="xref py py-func docutils literal notranslate"><span class="pre">bspline_weights()</span></code></a> - for Eq. <span class="math notranslate nohighlight">\(\eqref{eq:2}\)</span> and the evaluation of
the tri-cubic B-Splines <span class="math notranslate nohighlight">\(\Psi^3(\mathbf{k}, \mathbf{s})\)</span>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Mandatory Inputs</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in_data</strong> (<em>a pathlike object or string representing an existing file</em>) – Path to a fieldmap.</p></li>
<li><p><strong>in_mask</strong> (<em>a pathlike object or string representing an existing file</em>) – Path to a brain mask.</p></li>
</ul>
</dd>
<dt class="field-even">Optional Inputs</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>bs_spacing</strong> (<em>a list of items which are a tuple of the form: (a float, a float, a float)</em>) – Spacing between B-Spline control points.
(Nipype <strong>default</strong> value: <code class="docutils literal notranslate"><span class="pre">[(40.0,</span> <span class="pre">40.0,</span> <span class="pre">20.0)]</span></code>)</p></li>
<li><p><strong>extrapolate</strong> (<em>a boolean</em>) – Generate a field, extrapolated outside the brain mask.
(Nipype <strong>default</strong> value: <code class="docutils literal notranslate"><span class="pre">True</span></code>)</p></li>
<li><p><strong>recenter</strong> (<em>‘mode’ or ‘median’ or ‘mean’ or False</em>) – Strategy to recenter the distribution of the input fieldmap.
(Nipype <strong>default</strong> value: <code class="docutils literal notranslate"><span class="pre">mode</span></code>)</p></li>
<li><p><strong>ridge_alpha</strong> (<em>a float</em>) – Controls the regularization.
(Nipype <strong>default</strong> value: <code class="docutils literal notranslate"><span class="pre">0.01</span></code>)</p></li>
</ul>
</dd>
<dt class="field-odd">Outputs</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_coeff</strong> (<em>a list of items which are a pathlike object or string representing an existing file</em>)</p></li>
<li><p><strong>out_error</strong> (<em>a pathlike object or string representing an existing file</em>)</p></li>
<li><p><strong>out_extrapolated</strong> (<em>a pathlike object or string representing a file</em>)</p></li>
<li><p><strong>out_field</strong> (<em>a pathlike object or string representing an existing file</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="sdcflows.interfaces.bspline.Coefficients2Warp">
<em class="property">class </em><code class="sig-prename descclassname">sdcflows.interfaces.bspline.</code><code class="sig-name descname">Coefficients2Warp</code><span class="sig-paren">(</span><em class="sig-param">from_file=None</em>, <em class="sig-param">resource_monitor=None</em>, <em class="sig-param">**inputs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdcflows/interfaces/bspline.html#Coefficients2Warp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sdcflows.interfaces.bspline.Coefficients2Warp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nipype.interfaces.base.core.SimpleInterface</span></code></p>
<p>Convert a set of B-Spline coefficients to a full displacements map.</p>
<p>Implements Eq. <span class="math notranslate nohighlight">\(\eqref{eq:1}\)</span>, interpolating <span class="math notranslate nohighlight">\(f(\mathbf{s})\)</span>
for all voxels in the target-image’s extent.
When the readout time is known, the displacements field can be calculated
following <a class="reference external" href="sdcflows.workflows.fit.fieldmap.html#mjx-eqn-eq%3Afieldmap-2">Eq. (2) in the fieldmap fitting section</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Mandatory Inputs</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in_coeff</strong> (<em>a list of items which are a pathlike object or string representing an existing file</em>) – Input coefficients, after alignment to the EPI data.</p></li>
<li><p><strong>in_target</strong> (<em>a pathlike object or string representing a file</em>) – Input EPI data to be corrected.</p></li>
<li><p><strong>pe_dir</strong> (<em>‘i’ or ‘i-’ or ‘j’ or ‘j-’ or ‘k’ or ‘k-’</em>) – The phase-encoding direction corresponding to in_target.</p></li>
<li><p><strong>ro_time</strong> (<em>a float</em>) – EPI readout time (s).</p></li>
</ul>
</dd>
<dt class="field-even">Optional Inputs</dt>
<dd class="field-even"><p><strong>low_mem</strong> (<em>a boolean</em>) – Perform on low-mem fingerprint regime.
(Nipype <strong>default</strong> value: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p>
</dd>
<dt class="field-odd">Outputs</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_field</strong> (<em>a pathlike object or string representing an existing file</em>)</p></li>
<li><p><strong>out_warp</strong> (<em>a pathlike object or string representing an existing file</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="sdcflows.interfaces.bspline.TOPUPCoeffReorient">
<em class="property">class </em><code class="sig-prename descclassname">sdcflows.interfaces.bspline.</code><code class="sig-name descname">TOPUPCoeffReorient</code><span class="sig-paren">(</span><em class="sig-param">from_file=None</em>, <em class="sig-param">resource_monitor=None</em>, <em class="sig-param">**inputs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdcflows/interfaces/bspline.html#TOPUPCoeffReorient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sdcflows.interfaces.bspline.TOPUPCoeffReorient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nipype.interfaces.base.core.SimpleInterface</span></code></p>
<p>Revise the orientation of TOPUP-generated B-Spline coefficients.</p>
<p>TOPUP-generated “fieldcoeff” files are just B-Spline fields, where the shape
of the field is fixated to be a decimated grid of the original image by an
integer factor and added 3 pixels on each dimension.
This is one root reason why TOPUP errors (FSL 6) or segfaults (FSL 5), when the
input image has odd number of voxels along one or more directions.</p>
<p>These “fieldcoeff” are fixated to be zero-centered, and have “plumb” orientation
(as in, aligned with cardinal/imaging axes).
The q-form of these NIfTI files is always diagonal, with the decimation factors
set on the diagonal (and hence, the voxel zooms).
The origin of the q-form is set to the reference image’s shape.</p>
<p>This interface modifies these coefficient files to be fully-fledged NIfTI images
aligned with the reference image.
Therefore, the s-form header of the coefficients file is updated to match that
of the reference file.
The s-form header is used because the imaging axes may be oblique.</p>
<p>The q-form retains the original header and is marked with code 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Mandatory Inputs</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fmap_ref</strong> (<em>a pathlike object or string representing an existing file</em>) – The fieldmap reference.</p></li>
<li><p><strong>in_coeff</strong> (<em>a list of items which are a pathlike object or string representing a file</em>) – Input coefficients file(s) from TOPUP.</p></li>
</ul>
</dd>
<dt class="field-even">Outputs</dt>
<dd class="field-even"><p><strong>out_coeff</strong> (<em>a list of items which are a pathlike object or string representing an existing file</em>) – Patched coefficients.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="sdcflows.interfaces.bspline.TransformCoefficients">
<em class="property">class </em><code class="sig-prename descclassname">sdcflows.interfaces.bspline.</code><code class="sig-name descname">TransformCoefficients</code><span class="sig-paren">(</span><em class="sig-param">from_file=None</em>, <em class="sig-param">resource_monitor=None</em>, <em class="sig-param">**inputs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdcflows/interfaces/bspline.html#TransformCoefficients"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sdcflows.interfaces.bspline.TransformCoefficients" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nipype.interfaces.base.core.SimpleInterface</span></code></p>
<p>Project coefficients files to another space through a rigid-body transform.</p>
<dl class="field-list simple">
<dt class="field-odd">Mandatory Inputs</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fmap_ref</strong> (<em>a pathlike object or string representing an existing file</em>) – The fieldmap reference.</p></li>
<li><p><strong>in_coeff</strong> (<em>a list of items which are a pathlike object or string representing a file</em>) – Input coefficients file(s).</p></li>
<li><p><strong>transform</strong> (<em>a pathlike object or string representing an existing file</em>) – Rigid-body transform file.</p></li>
</ul>
</dd>
<dt class="field-even">Outputs</dt>
<dd class="field-even"><p><strong>out_coeff</strong> (<em>a list of items which are a pathlike object or string representing an existing file</em>) – Moved coefficients.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="sdcflows.interfaces.bspline.bspline_grid">
<code class="sig-prename descclassname">sdcflows.interfaces.bspline.</code><code class="sig-name descname">bspline_grid</code><span class="sig-paren">(</span><em class="sig-param">img</em>, <em class="sig-param">control_zooms_mm=(40.0</em>, <em class="sig-param">40.0</em>, <em class="sig-param">20.0)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdcflows/interfaces/bspline.html#bspline_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sdcflows.interfaces.bspline.bspline_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <a class="reference external" href="https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image" title="(in NiBabel v3.2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Nifti1Image</span></code></a> embedding the location of control points.</p>
</dd></dl>

<dl class="function">
<dt id="sdcflows.interfaces.bspline.bspline_weights">
<code class="sig-prename descclassname">sdcflows.interfaces.bspline.</code><code class="sig-name descname">bspline_weights</code><span class="sig-paren">(</span><em class="sig-param">points</em>, <em class="sig-param">ctrl_nii</em>, <em class="sig-param">blocksize=None</em>, <em class="sig-param">mem_percent=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdcflows/interfaces/bspline.html#bspline_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sdcflows.interfaces.bspline.bspline_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the tensor-product cubic B-Spline kernel weights for a list of 3D points.</p>
<p>For each of the <em>N</em> input samples <span class="math notranslate nohighlight">\((s_1, s_2, s_3)\)</span> and <em>K</em> control
points or <em>knots</em> <span class="math notranslate nohighlight">\(\mathbf{k} =(k_1, k_2, k_3)\)</span>, the tensor-product
cubic B-Spline kernel weights are calculated:</p>
<div class="math notranslate nohighlight">
\[\Psi^3(\mathbf{k}, \mathbf{s}) =
\beta^3(s_1 - k_1) \cdot \beta^3(s_2 - k_2) \cdot \beta^3(s_3 - k_3),
\label{eq:2}\tag{2}\]</div>
<p>where each <span class="math notranslate nohighlight">\(\beta^3\)</span> represents the cubic B-Spline for one dimension.
The 1D B-Spline kernel implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.piecewise.html#numpy.piecewise" title="(in NumPy v1.20)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.piecewise</span></code></a>, and is based on the
closed-form given by Eq. (6) of <a class="reference internal" href="#unser1999" id="id2"><span>[Unser1999]</span></a>.</p>
<p>By iterating over dimensions, the data samples that fall outside of the compact
support of the tensor-product kernel associated to each control point can be filtered
out and dismissed to lighten computation.</p>
<p>Finally, the resulting weights matrix <span class="math notranslate nohighlight">\(\Psi^3(\mathbf{k}, \mathbf{s})\)</span>
can be easily identified in Eq. <span class="math notranslate nohighlight">\(\eqref{eq:1}\)</span> and used as the design matrix
for approximation of data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>; <span class="math notranslate nohighlight">\(N \times 3\)</span>) – Array of 3D coordinates of samples from the data to be approximated,
in index (i,j,k) coordinates with respect to the control points grid.</p></li>
<li><p><strong>ctrl_nii</strong> (<a class="reference external" href="https://nipy.org/nibabel/reference/nibabel.spatialimages.html#module-nibabel.spatialimages" title="(in NiBabel v3.2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nibabel.spatialimages</span></code></a>) – An spatial image object (typically, a <a class="reference external" href="https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image" title="(in NiBabel v3.2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Nifti1Image</span></code></a>)
embedding the location of the control points of the B-Spline grid.
The data array should contain a total of <span class="math notranslate nohighlight">\(K\)</span> knots (control points).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>weights</strong> – A sparse matrix of interpolating weights <span class="math notranslate nohighlight">\(\Psi^3(\mathbf{k}, \mathbf{s})\)</span>
for the <em>N</em> samples in <code class="docutils literal notranslate"><span class="pre">points</span></code>, for each of the total <em>K</em> knots.
This sparse matrix can be directly used as design matrix for the fitting
step of approximation/extrapolation.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> (<span class="math notranslate nohighlight">\(K \times N\)</span>)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="sdcflows.interfaces.bspline.grid_bspline_weights">
<code class="sig-prename descclassname">sdcflows.interfaces.bspline.</code><code class="sig-name descname">grid_bspline_weights</code><span class="sig-paren">(</span><em class="sig-param">target_nii</em>, <em class="sig-param">ctrl_nii</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdcflows/interfaces/bspline.html#grid_bspline_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sdcflows.interfaces.bspline.grid_bspline_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Fast, gridded evaluation.</p>
</dd></dl>

</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="sdcflows.interfaces.epi.html" class="btn btn-neutral float-right" title="sdcflows.interfaces.epi module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="sdcflows.interfaces.brainmask.html" class="btn btn-neutral float-left" title="sdcflows.interfaces.brainmask module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, The NiPreps developers.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: fix/field-direction
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../../1.0.0/index.html">1.0.0</a></dd>
            <dd><a href="../../1.0.0rc1/index.html">1.0.0rc1</a></dd>
            <dd><a href="../../1.0.1/index.html">1.0.1</a></dd>
            <dd><a href="../../1.0.2/index.html">1.0.2</a></dd>
            <dd><a href="../../1.0.3/index.html">1.0.3</a></dd>
            <dd><a href="../../1.0.4/index.html">1.0.4</a></dd>
            <dd><a href="../../1.0.5/index.html">1.0.5</a></dd>
            <dd><a href="../../1.0.6/index.html">1.0.6</a></dd>
            <dd><a href="../../1.1.0/index.html">1.1.0</a></dd>
            <dd><a href="../../1.2.0/index.html">1.2.0</a></dd>
            <dd><a href="../../1.2.1/index.html">1.2.1</a></dd>
            <dd><a href="../../1.2.2/index.html">1.2.2</a></dd>
            <dd><a href="../../1.2.3/index.html">1.2.3</a></dd>
            <dd><a href="../../1.3.0/index.html">1.3.0</a></dd>
            <dd><a href="../../1.3.1/index.html">1.3.1</a></dd>
            <dd><a href="../../1.3.2/index.html">1.3.2</a></dd>
            <dd><a href="../../1.3.3/index.html">1.3.3</a></dd>
            <dd><a href="../../1.4.0rc0/api/sdcflows.interfaces.bspline.html">1.4.0rc0</a></dd>
            <dd><a href="../../2.0.0/api/sdcflows.interfaces.bspline.html">2.0.0</a></dd>
            <dd><a href="../../2.0.0rc1/api/sdcflows.interfaces.bspline.html">2.0.0rc1</a></dd>
            <dd><a href="../../2.0.0rc2/api/sdcflows.interfaces.bspline.html">2.0.0rc2</a></dd>
            <dd><a href="../../2.0.0rc3/api/sdcflows.interfaces.bspline.html">2.0.0rc3</a></dd>
            <dd><a href="../../2.0.0rc4/api/sdcflows.interfaces.bspline.html">2.0.0rc4</a></dd>
            <dd><a href="../../2.0.0rc5/api/sdcflows.interfaces.bspline.html">2.0.0rc5</a></dd>
            <dd><a href="../../2.0.1/api/sdcflows.interfaces.bspline.html">2.0.1</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../dev_1.4.0/api/sdcflows.interfaces.bspline.html">dev/1.4.0</a></dd>
            <dd><a href="../../enh_outputnode-method/api/sdcflows.interfaces.bspline.html">enh/outputnode-method</a></dd>
            <dd><a href="../../feat_new-api/index.html">feat/new-api</a></dd>
            <dd><a href="sdcflows.interfaces.bspline.html">fix/field-direction</a></dd>
            <dd><a href="../../fix_memory-issues-194/api/sdcflows.interfaces.bspline.html">fix/memory-issues-194</a></dd>
            <dd><a href="../../fix_topup-coeff-scaling/api/sdcflows.interfaces.bspline.html">fix/topup-coeff-scaling</a></dd>
            <dd><a href="../../maint_1.0.x/index.html">maint/1.0.x</a></dd>
            <dd><a href="../../maint_1.2.x/index.html">maint/1.2.x</a></dd>
            <dd><a href="../../maint_1.3.x/index.html">maint/1.3.x</a></dd>
            <dd><a href="../../maint_travis-gh-action-migration/index.html">maint/travis-gh-action-migration</a></dd>
            <dd><a href="../../master/api/sdcflows.interfaces.bspline.html">master</a></dd>
            <dd><a href="../../rel_2.0.0/api/sdcflows.interfaces.bspline.html">rel/2.0.0</a></dd>
            <dd><a href="../../rel_2.0.0rc3/api/sdcflows.interfaces.bspline.html">rel/2.0.0rc3</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>